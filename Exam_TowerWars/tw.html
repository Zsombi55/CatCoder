
<!-- Personal Coding Contest (1st practical "interview" for CatalystS/Cloudflight), Tower Wars
Level 1:: in principle it is similar to the "Harvester/Farmer" test.
X , Y = coordinate values on a 2D grid.
COMMAND = { F - forward (n steps), T - turn (90 degrees clockwise)}
STEPS = integer, number of times to execute command
    Input format:
<X> <Y>
<COMMAND> <STEPS> <COMMAND> <STEPS> ...
    Output format:
<Finish_X> <Finish_Y>

    Process:
x,y = 0,0 -- direction right/east => x axis "+"
F 5 => x + 5 => [5,0]
T 1 => turn 1 time = down/south => y axis "+"
F 10 => y + 10 => [5,10]
T 3 => turn 3 times = left/west (x axix "-") -> up/north (y axix "-") -> right/east => x axis "+"
F 2 => x + 2 => [7,10]  <-- destination.

- If all steps are needed just change the coordinate values one at a time instead by the whole "step" &
print after each change, or print each step between each "stop" phase (start, turnings, end).
-->

<html>
    <!-- Input & calculations -->
    <head>
    <script>
        
        var list = []; // text to array.
        var actionList = []; // command-step line to array.
        
        // Input file selection & display content.
        var openFile = function (event) {
            var input = event.target;
            var reader = new FileReader();
            reader.onload = function () {
                var text = reader.result;
                console.log("Type of the \"text\" variable: " + typeof text);
                var node = document.getElementById("output");
                node.innerText = text;
                console.log(reader.result.substring(0, 200));
                textToArray(text); // To Array
                //var res = document.getElementById("results");
                //res.innerText = Destinations(list); // L1
            };
            reader.readAsText(input.files[0]);
        };

        // Turn the input "text" into an array, line by line.
        function textToArray(text){
            list = text.split("\n");
            for (var i = 0; i < list.length-1; i++) list[i] = list[i].split(" ");
            
            list[1].forEach(element => {
                actionList.push(element);  
            });
            //.match(/(.*?\s){2}/g);//match(/[^\s]+\s[^\s]+/g);
            //actionList[0] = list[1].match(/(.*?\s){2}/g);
            list.pop(list.length-1);
            console.log(list);
            console.log(actionList);
            return list, actionList;
        }

        ///// Calculations
        // Directions
        function getDirection(t) {return t;}
        function setDirection(t, new_t){
            if (t = "N") {
                if (new_t = "1") t = "E"; else
                if (new_t = "2") t = "S"; else
                if (new_t = "3") t = "W";
            } else
            if (t = "E") {
                if (new_t = "1") t = "S"; else
                if (new_t = "2") t = "W"; else
                if (new_t = "3") t = "N";
            } else
            if (t = "S") {
                if (new_t = "1") t = "W"; else
                if (new_t = "2") t = "N"; else
                if (new_t = "3") t = "E";
            } else
            if (t = "W") {
                if (new_t = "1") t = "N"; else
                if (new_t = "2") t = "E"; else
                if (new_t = "3") t = "S";
            }
            return t;
        }


        /* function Destinations(list){ // L1 - get destination coordinates.var d = [];console.log(d);return d;} */

    </script>
    </head>
    
    <!-- Output -->
    <body>
    <input type="file" accept="text/plain" onchange="openFile(event)"><br>
    <b>Input file content:</b>
    <div id="output">...</div><br>
    <b>Output:</b>
    <div id="results">...</div>
    </body>
    </html>

<!-- Possible Output:
1.1 - 7 10
1.2 - 99 83
1.3 - 99 90
1.4 - 999 380
1.5 - 9999 2491

2.1 - 0 1, 1 1, 1 0, 2 0, 2 1, 3 1, 4 1, 4 2, 4 3, 5 3, 6 3, 6 4, 7 4, 7 5, 7 6, 6 6, 5 6, 5 7, 6 7, 7 7, 8 7, 9 7 .
2.2 - 0 0, 1 0, 2 0, 3 0, 4 0, 5 0, 6 0, 7 0, 8 0, 9 0, 9 1, 9 2, 9 3, 9 4, 9 5, 9 6, 8 6, 7 6, 6 6, 5 6, 5 7, 6 7 .
2.3 - insufficient time by hand.. :(
-->